{"version":3,"file":"info-addon.es-ecb2e1fa.js","sources":["../../node_modules/@graphiql/react/dist/info-addon.es.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { C as CodeMirror } from \"./codemirror.es.js\";\nimport \"./index.es.js\";\nimport \"react\";\nimport \"graphql\";\nimport \"react-dom\";\nCodeMirror.defineOption(\"info\", false, (cm, options, old) => {\n  if (old && old !== CodeMirror.Init) {\n    const oldOnMouseOver = cm.state.info.onMouseOver;\n    CodeMirror.off(cm.getWrapperElement(), \"mouseover\", oldOnMouseOver);\n    clearTimeout(cm.state.info.hoverTimeout);\n    delete cm.state.info;\n  }\n  if (options) {\n    const state = cm.state.info = createState(options);\n    state.onMouseOver = onMouseOver.bind(null, cm);\n    CodeMirror.on(cm.getWrapperElement(), \"mouseover\", state.onMouseOver);\n  }\n});\nfunction createState(options) {\n  return {\n    options: options instanceof Function ? { render: options } : options === true ? {} : options\n  };\n}\n__name(createState, \"createState\");\nfunction getHoverTime(cm) {\n  const { options } = cm.state.info;\n  return (options === null || options === void 0 ? void 0 : options.hoverTime) || 500;\n}\n__name(getHoverTime, \"getHoverTime\");\nfunction onMouseOver(cm, e) {\n  const state = cm.state.info;\n  const target = e.target || e.srcElement;\n  if (!(target instanceof HTMLElement)) {\n    return;\n  }\n  if (target.nodeName !== \"SPAN\" || state.hoverTimeout !== void 0) {\n    return;\n  }\n  const box = target.getBoundingClientRect();\n  const onMouseMove = /* @__PURE__ */ __name(function() {\n    clearTimeout(state.hoverTimeout);\n    state.hoverTimeout = setTimeout(onHover, hoverTime);\n  }, \"onMouseMove\");\n  const onMouseOut = /* @__PURE__ */ __name(function() {\n    CodeMirror.off(document, \"mousemove\", onMouseMove);\n    CodeMirror.off(cm.getWrapperElement(), \"mouseout\", onMouseOut);\n    clearTimeout(state.hoverTimeout);\n    state.hoverTimeout = void 0;\n  }, \"onMouseOut\");\n  const onHover = /* @__PURE__ */ __name(function() {\n    CodeMirror.off(document, \"mousemove\", onMouseMove);\n    CodeMirror.off(cm.getWrapperElement(), \"mouseout\", onMouseOut);\n    state.hoverTimeout = void 0;\n    onMouseHover(cm, box);\n  }, \"onHover\");\n  const hoverTime = getHoverTime(cm);\n  state.hoverTimeout = setTimeout(onHover, hoverTime);\n  CodeMirror.on(document, \"mousemove\", onMouseMove);\n  CodeMirror.on(cm.getWrapperElement(), \"mouseout\", onMouseOut);\n}\n__name(onMouseOver, \"onMouseOver\");\nfunction onMouseHover(cm, box) {\n  const pos = cm.coordsChar({\n    left: (box.left + box.right) / 2,\n    top: (box.top + box.bottom) / 2\n  });\n  const state = cm.state.info;\n  const { options } = state;\n  const render = options.render || cm.getHelper(pos, \"info\");\n  if (render) {\n    const token = cm.getTokenAt(pos, true);\n    if (token) {\n      const info = render(token, options, cm, pos);\n      if (info) {\n        showPopup(cm, box, info);\n      }\n    }\n  }\n}\n__name(onMouseHover, \"onMouseHover\");\nfunction showPopup(cm, box, info) {\n  const popup = document.createElement(\"div\");\n  popup.className = \"CodeMirror-info\";\n  popup.appendChild(info);\n  document.body.appendChild(popup);\n  const popupBox = popup.getBoundingClientRect();\n  const popupStyle = window.getComputedStyle(popup);\n  const popupWidth = popupBox.right - popupBox.left + parseFloat(popupStyle.marginLeft) + parseFloat(popupStyle.marginRight);\n  const popupHeight = popupBox.bottom - popupBox.top + parseFloat(popupStyle.marginTop) + parseFloat(popupStyle.marginBottom);\n  let topPos = box.bottom;\n  if (popupHeight > window.innerHeight - box.bottom - 15 && box.top > window.innerHeight - box.bottom) {\n    topPos = box.top - popupHeight;\n  }\n  if (topPos < 0) {\n    topPos = box.bottom;\n  }\n  let leftPos = Math.max(0, window.innerWidth - popupWidth - 15);\n  if (leftPos > box.left) {\n    leftPos = box.left;\n  }\n  popup.style.opacity = \"1\";\n  popup.style.top = topPos + \"px\";\n  popup.style.left = leftPos + \"px\";\n  let popupTimeout;\n  const onMouseOverPopup = /* @__PURE__ */ __name(function() {\n    clearTimeout(popupTimeout);\n  }, \"onMouseOverPopup\");\n  const onMouseOut = /* @__PURE__ */ __name(function() {\n    clearTimeout(popupTimeout);\n    popupTimeout = setTimeout(hidePopup, 200);\n  }, \"onMouseOut\");\n  const hidePopup = /* @__PURE__ */ __name(function() {\n    CodeMirror.off(popup, \"mouseover\", onMouseOverPopup);\n    CodeMirror.off(popup, \"mouseout\", onMouseOut);\n    CodeMirror.off(cm.getWrapperElement(), \"mouseout\", onMouseOut);\n    if (popup.style.opacity) {\n      popup.style.opacity = \"0\";\n      setTimeout(() => {\n        if (popup.parentNode) {\n          popup.parentNode.removeChild(popup);\n        }\n      }, 600);\n    } else if (popup.parentNode) {\n      popup.parentNode.removeChild(popup);\n    }\n  }, \"hidePopup\");\n  CodeMirror.on(popup, \"mouseover\", onMouseOverPopup);\n  CodeMirror.on(popup, \"mouseout\", onMouseOut);\n  CodeMirror.on(cm.getWrapperElement(), \"mouseout\", onMouseOut);\n}\n__name(showPopup, \"showPopup\");\n"],"names":["__defProp","__name","target","value","CodeMirror","cm","options","old","oldOnMouseOver","state","createState","onMouseOver","getHoverTime","e","box","onMouseMove","onHover","hoverTime","onMouseOut","onMouseHover","pos","render","token","info","showPopup","popup","popupBox","popupStyle","popupWidth","popupHeight","topPos","leftPos","popupTimeout","onMouseOverPopup","hidePopup"],"mappings":"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","x_google_ignoreList":[0]}