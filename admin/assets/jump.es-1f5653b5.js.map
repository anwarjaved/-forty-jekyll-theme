{"version":3,"file":"jump.es-1f5653b5.js","sources":["../../node_modules/@graphiql/react/dist/jump.es.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nimport { C as CodeMirror } from \"./codemirror.es.js\";\nimport { g as getTypeInfo, a as getFieldReference, b as getDirectiveReference, c as getArgumentReference, d as getEnumValueReference, e as getTypeReference } from \"./SchemaReference.es.js\";\nimport \"./index.es.js\";\nimport \"react\";\nimport \"graphql\";\nimport \"react-dom\";\nimport \"./forEachState.es.js\";\nCodeMirror.defineOption(\"jump\", false, (cm, options, old) => {\n  if (old && old !== CodeMirror.Init) {\n    const oldOnMouseOver = cm.state.jump.onMouseOver;\n    CodeMirror.off(cm.getWrapperElement(), \"mouseover\", oldOnMouseOver);\n    const oldOnMouseOut = cm.state.jump.onMouseOut;\n    CodeMirror.off(cm.getWrapperElement(), \"mouseout\", oldOnMouseOut);\n    CodeMirror.off(document, \"keydown\", cm.state.jump.onKeyDown);\n    delete cm.state.jump;\n  }\n  if (options) {\n    const state = cm.state.jump = {\n      options,\n      onMouseOver: onMouseOver.bind(null, cm),\n      onMouseOut: onMouseOut.bind(null, cm),\n      onKeyDown: onKeyDown.bind(null, cm)\n    };\n    CodeMirror.on(cm.getWrapperElement(), \"mouseover\", state.onMouseOver);\n    CodeMirror.on(cm.getWrapperElement(), \"mouseout\", state.onMouseOut);\n    CodeMirror.on(document, \"keydown\", state.onKeyDown);\n  }\n});\nfunction onMouseOver(cm, event) {\n  const target = event.target || event.srcElement;\n  if (!(target instanceof HTMLElement)) {\n    return;\n  }\n  if ((target === null || target === void 0 ? void 0 : target.nodeName) !== \"SPAN\") {\n    return;\n  }\n  const box = target.getBoundingClientRect();\n  const cursor = {\n    left: (box.left + box.right) / 2,\n    top: (box.top + box.bottom) / 2\n  };\n  cm.state.jump.cursor = cursor;\n  if (cm.state.jump.isHoldingModifier) {\n    enableJumpMode(cm);\n  }\n}\n__name(onMouseOver, \"onMouseOver\");\nfunction onMouseOut(cm) {\n  if (!cm.state.jump.isHoldingModifier && cm.state.jump.cursor) {\n    cm.state.jump.cursor = null;\n    return;\n  }\n  if (cm.state.jump.isHoldingModifier && cm.state.jump.marker) {\n    disableJumpMode(cm);\n  }\n}\n__name(onMouseOut, \"onMouseOut\");\nfunction onKeyDown(cm, event) {\n  if (cm.state.jump.isHoldingModifier || !isJumpModifier(event.key)) {\n    return;\n  }\n  cm.state.jump.isHoldingModifier = true;\n  if (cm.state.jump.cursor) {\n    enableJumpMode(cm);\n  }\n  const onKeyUp = /* @__PURE__ */ __name((upEvent) => {\n    if (upEvent.code !== event.code) {\n      return;\n    }\n    cm.state.jump.isHoldingModifier = false;\n    if (cm.state.jump.marker) {\n      disableJumpMode(cm);\n    }\n    CodeMirror.off(document, \"keyup\", onKeyUp);\n    CodeMirror.off(document, \"click\", onClick);\n    cm.off(\"mousedown\", onMouseDown);\n  }, \"onKeyUp\");\n  const onClick = /* @__PURE__ */ __name((clickEvent) => {\n    const { destination, options } = cm.state.jump;\n    if (destination) {\n      options.onClick(destination, clickEvent);\n    }\n  }, \"onClick\");\n  const onMouseDown = /* @__PURE__ */ __name((_, downEvent) => {\n    if (cm.state.jump.destination) {\n      downEvent.codemirrorIgnore = true;\n    }\n  }, \"onMouseDown\");\n  CodeMirror.on(document, \"keyup\", onKeyUp);\n  CodeMirror.on(document, \"click\", onClick);\n  cm.on(\"mousedown\", onMouseDown);\n}\n__name(onKeyDown, \"onKeyDown\");\nconst isMac = typeof navigator !== \"undefined\" && navigator && navigator.appVersion.includes(\"Mac\");\nfunction isJumpModifier(key) {\n  return key === (isMac ? \"Meta\" : \"Control\");\n}\n__name(isJumpModifier, \"isJumpModifier\");\nfunction enableJumpMode(cm) {\n  if (cm.state.jump.marker) {\n    return;\n  }\n  const { cursor, options } = cm.state.jump;\n  const pos = cm.coordsChar(cursor);\n  const token = cm.getTokenAt(pos, true);\n  const getDestination = options.getDestination || cm.getHelper(pos, \"jump\");\n  if (getDestination) {\n    const destination = getDestination(token, options, cm);\n    if (destination) {\n      const marker = cm.markText({ line: pos.line, ch: token.start }, { line: pos.line, ch: token.end }, { className: \"CodeMirror-jump-token\" });\n      cm.state.jump.marker = marker;\n      cm.state.jump.destination = destination;\n    }\n  }\n}\n__name(enableJumpMode, \"enableJumpMode\");\nfunction disableJumpMode(cm) {\n  const { marker } = cm.state.jump;\n  cm.state.jump.marker = null;\n  cm.state.jump.destination = null;\n  marker.clear();\n}\n__name(disableJumpMode, \"disableJumpMode\");\nCodeMirror.registerHelper(\"jump\", \"graphql\", (token, options) => {\n  if (!options.schema || !options.onClick || !token.state) {\n    return;\n  }\n  const { state } = token;\n  const { kind, step } = state;\n  const typeInfo = getTypeInfo(options.schema, state);\n  if (kind === \"Field\" && step === 0 && typeInfo.fieldDef || kind === \"AliasedField\" && step === 2 && typeInfo.fieldDef) {\n    return getFieldReference(typeInfo);\n  }\n  if (kind === \"Directive\" && step === 1 && typeInfo.directiveDef) {\n    return getDirectiveReference(typeInfo);\n  }\n  if (kind === \"Argument\" && step === 0 && typeInfo.argDef) {\n    return getArgumentReference(typeInfo);\n  }\n  if (kind === \"EnumValue\" && typeInfo.enumValue) {\n    return getEnumValueReference(typeInfo);\n  }\n  if (kind === \"NamedType\" && typeInfo.type) {\n    return getTypeReference(typeInfo);\n  }\n});\n"],"names":["__defProp","__name","target","value","CodeMirror","cm","options","old","oldOnMouseOver","oldOnMouseOut","state","onMouseOver","onMouseOut","onKeyDown","event","box","cursor","enableJumpMode","disableJumpMode","isJumpModifier","onKeyUp","upEvent","onClick","onMouseDown","clickEvent","destination","_","downEvent","isMac","key","pos","token","getDestination","marker","kind","step","typeInfo","getTypeInfo","getFieldReference","getDirectiveReference","getArgumentReference","getEnumValueReference","getTypeReference"],"mappings":"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","x_google_ignoreList":[0]}